<!doctype html>
<html>
  <head>
    <title>Demo</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="/bower_components/material-design-lite/material.min.css" rel="stylesheet">
    <script src="/bower_components/material-design-lite/material.min.js"></script>
    <script src="/tree3.js"></script>
  </head>
  <body>
    <h3>This is an example of a tree view</h3>
    <ul class="mdl-list">
    </ul>
  </body>

  <template id="li-row">
    <li class="mdl-list__item">
      <span class="mdl-list__item-primary-content">
        <span id="text">Item </span>
      </span>

      <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
        for="demo-menu-lower-left-">
        <li class="mdl-menu__item">Some Action</li>
        <li class="mdl-menu__item mdl-menu__item--full-bleed-divider">Another Action</li>
        <li disabled class="mdl-menu__item">Disabled Action</li>
        <li class="mdl-menu__item">Yet Another Action</li>
      </ul>
      <!-- Right aligned menu below button -->
      <button id="demo-menu-lower-left-"
        class="mdl-list__item-secondary-action mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">more_vert</i>
      </button>

      <button class="mdl-list__item-secondary-action mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">expand_less</i>
      </button>
    </li>
  </template>

  <script>
    'use strict';
    var tmpl = document.querySelector('template#li-row');
    var ul = document.querySelector('ul');
    for (var i = 0; i < 3; i++) {
      var clone = document.importNode(tmpl.content, true);
      clone.querySelector('#text').textContent += i + 1;
      clone.querySelector('#demo-menu-lower-left-').id += i + 1;
      clone.querySelector('[for="demo-menu-lower-left-"]').setAttribute('for', `demo-menu-lower-left-${i + 1}`);
      ul.appendChild(clone);
    }
  </script>
</html>
